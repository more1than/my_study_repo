调用函数指针时

即使变量前不使用*星号也是一样的意思

```c
int main()
{
    int a = 10;
    int b = 20;
    int (*pa)(int, int) = Add; // 定义函数指针
    printf("%d\n", (*pa)(2, 3));  // 使用函数指针
    printf("%d\n", (pa)(2, 3));  // 使用函数指针
    return 0;
}
```

### 解析

```c
int main() {
    (*(void (*)())0)();
}
```

其中

```c
void (*)()  // 表示无参数的函数指针
```

表示要将0的类型强制转换为函数指针类型，因为

```
(类型)变量|常量
```

这种格式是c中强制转换类型的操作

```c
(void (*)())0  // 表示要将0的类型强制转换为函数指针类型
```

```c
*(void (*)())0  // 表示获取函数指针的值,获得函数
(*(void (*)())0)()  // 最后的括号表示调用该函数
```



### 解析2

```c
int main()
{
    void (*signal(int, void (*)(int)))(int);
}
```

 中间表示声明一个拥有两个参数的的函数

该函数的第一个参数是int类型

第二个参数是 函数指针类型

```c
singal(int, void (*)(int))
```

接下来是该函数的返回值

通常来说函数的定义，及返回值的书写方式应该如下所示，但是返回值是函数指针，形式比较特殊

```c
void(*)(int)  singal(int, void (*)(int))
```

把除了函数返回值的声明部分看作一个整体，其余部分为函数指针的声明

```c
void(* 除函数返回值外的部分 )(int) 

void (*signal(int, void (*)(int)))(int)
```

所以整体的语句表达的就是一个**返回值为函数指针**，形参为**整型和函数指针的函数声明语句**



### 简化 ：解析2

利用typedef 类型重定义关键字

```c
// 源代码
void (*signal(int, void (*)(int)))(int);

typedef void(*pfun_t)(int);
//  pfun_t 变量名便成为了函数指针
pfun_t signal(int, pfun_t);
```

