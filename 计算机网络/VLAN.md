### VLAN

虚拟局域网，是一种将局域网内的设备划分为与物理位置无关的逻辑组的技术，这些逻辑组具有某些共同的需求

#### 交换机端口类型

Access

Trunk

Hybrid（华为交换机私有类型）

#### 交换机个端口的缺省VLAN ID

在思科交换机上成为Native VLAN 即本征VLAN

在华为交换机上成为Prot VLAN ID 即端口VLAN ID 简称PVID



Access端口一般用于链接用户计算机

Access端口只能属于一个VLAN

Access端口的PVID值与端口所属的VLAN ID 相同（默认为1）

**Access端口的接受处理方法：**

一般只接受未打标签的普通以太网帧，根据接受帧的端口的PVID给帧打标签，

打标签：插入四个字节的VLAN标记字段，字段中VID取值与端口的PVID取值相等

**Access端口的发送处理方法：**

若帧中的VID与目标端口的PVID相等，则去标签转发该帧，否则不转发



#### Trunk端口

一般用于交换机之间或交换机与路由器的互连

Trunk端口可以属于多个VLAN

用户可以设置 Trunk的端口PVID值默认为1

**Trunk端口的发送处理方法：**

对VID等于PVID的帧，去标签再转发

对VID不等于PVID的帧，直接转发

**Trunk端口的接收处理方法：**

接受未打标签的帧，根据接收帧的端口给PVID帧打标签

接受已打标签的帧



**连接主机的端口应设置为Access类型，交换机互联的端口应设置为Trunk类型**

**互联的Trunk PVID不相等可能造成转发错误**



**Hybrid端口**

可以用于用户也可以用于交换机之间的互联

绝大部分功能与Trunk相同

**Hybrid端口发送处理：**

查看帧的VID是否在端口的去标签列表中

若存在则去标签转发，不存在则直接转发

**Hybrid端口接收处理：**

接受已打标签的帧，接受未打标签的帧根据PVID打标签